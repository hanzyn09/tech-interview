# 운영체제 Q&A

## 운영체제란?
컴퓨터 시스템의 자원(하드웨어, 소프트웨어)을 효율적으로 관리하고, 사용자와 하드웨어 사이의 인터페이스를 제공하는 시스템 소프트웨어입니다.

## 실행파일 생성 과정
1. **전처리(Preprocessing)**: 헤더파일 포함, 매크로 치환
2. **컴파일(Compilation)**: 소스코드를 어셈블리어로 변환
3. **어셈블(Assembly)**: 어셈블리어를 기계어(오브젝트 파일)로 변환
4. **링킹(Linking)**: 여러 오브젝트 파일과 라이브러리를 연결하여 실행파일 생성

## 프로그램 실행과정
1. 프로그램을 메모리에 로드
2. CPU가 메모리에서 명령어를 가져와 실행
3. 필요시 데이터를 메모리에서 읽거나 쓰기

### 명령어사이클
1. **Fetch**: 메모리에서 명령어 가져오기
2. **Decode**: 명령어 해석
3. **Execute**: 명령어 실행
4. **Store**: 결과 저장

## 캐시란?
CPU와 메모리 사이의 속도 차이를 줄이기 위한 고속 임시 저장장치입니다. 자주 사용되는 데이터를 저장하여 접근 속도를 향상시킵니다.

## 캐시라인
캐시에서 데이터를 저장하는 최소 단위입니다. 일반적으로 64바이트 크기이며, 캐시와 메모리 간 데이터 전송 단위입니다.

## 메모리구조
- **코드 영역**: 실행 가능한 코드 저장
- **데이터 영역**: 전역변수, 정적변수 저장
- **힙 영역**: 동적 할당된 메모리
- **스택 영역**: 지역변수, 함수 호출 정보

### 전역변수와 정적변수의 차이
- **전역변수**: 프로그램 전체에서 접근 가능, 데이터 영역에 저장
- **정적변수**: 함수 내에서만 접근 가능하지만 프로그램 종료까지 유지, 데이터 영역에 저장

### Heap, Stack 비교
| 구분 | Heap | Stack |
|------|------|-------|
| 할당 방식 | 동적 할당 | 정적 할당 |
| 속도 | 상대적으로 느림 | 빠름 |
| 크기 | 큰 용량 | 제한적 |
| 관리 | 수동 관리 필요 | 자동 관리 |

### 가시성(Visibility)과 원자성(Atomicity)
- **가시성**: 한 스레드에서 변경한 값이 다른 스레드에서 보이는 것
- **원자성**: 연산이 중간에 중단되지 않고 완전히 실행되는 것

### 유효주소, 주소지정방식
- **유효주소**: 실제 메모리에서 데이터가 위치한 주소
- **주소지정방식**: 명령어에서 피연산자의 주소를 지정하는 방법 (직접, 간접, 인덱스 등)

### 메모리 할당 알고리즘
- **First Fit**: 첫 번째로 맞는 블록에 할당
- **Best Fit**: 가장 작은 적합한 블록에 할당
- **Worst Fit**: 가장 큰 블록에 할당

## 프로세스, 스레드
- **프로세스**: 실행 중인 프로그램의 인스턴스
- **스레드**: 프로세스 내에서 실행되는 작업 단위

### 멀티 프로세스와 멀티 스레드
- **멀티 프로세스**: 여러 프로세스를 동시에 실행, 안정성 높음, 메모리 사용량 많음
- **멀티 스레드**: 하나의 프로세스 내에서 여러 스레드 실행, 자원 공유 효율적, 동기화 필요

### 스레드와 프로세스 콘텍스트 스위치 차이 이유
- **프로세스**: 메모리 공간 전체를 교체해야 하므로 오버헤드 큼
- **스레드**: 같은 메모리 공간을 공유하므로 레지스터와 스택만 교체, 오버헤드 작음

### 프로세스 스케줄러에 대해
프로세스의 상태를 관리하고 실행 순서를 결정하는 운영체제 구성요소입니다.

### CPU 스케줄러
CPU를 사용할 프로세스를 선택하는 알고리즘 (FCFS, SJF, RR, Priority 등)

## 스레싱이란?
페이지 부재가 빈번하게 발생하여 실제 작업보다 페이지 교체 작업이 더 많이 일어나는 현상입니다.

## IPC란?
Inter-Process Communication의 약자로, 프로세스 간 통신 방법입니다. (파이프, 메시지 큐, 공유 메모리, 세마포어 등)

## Race Condition?
두 개 이상의 프로세스나 스레드가 공유 자원에 동시에 접근할 때 실행 순서에 따라 결과가 달라지는 상황입니다.

## User, Kernel 스레드 차이
- **User 스레드**: 사용자 레벨에서 관리, 커널이 인식하지 못함, 빠름
- **Kernel 스레드**: 커널에서 관리, 진정한 병렬 처리 가능, 상대적으로 느림

## 가상 메모리
물리 메모리보다 큰 메모리 공간을 제공하는 기술로, 프로세스가 실제 물리 메모리 크기에 제약받지 않고 실행될 수 있게 합니다.

### 메모리 단편화
- **내부 단편화**: 할당된 메모리 블록 내부의 사용되지 않는 공간
- **외부 단편화**: 할당되지 않은 메모리 조각들이 흩어져 있는 상태

## 페이징기법
가상 메모리를 고정 크기 페이지로 나누어 관리하는 기법입니다.

## 세그먼테이션 기법
메모리를 논리적 단위(세그먼트)로 나누어 관리하는 기법입니다.

## 메모리풀
미리 할당된 메모리 블록들의 집합으로, 동적 할당/해제 오버헤드를 줄이는 기법입니다.

## 페이지 교체 알고리즘
- **FIFO**: 가장 먼저 들어온 페이지 교체
- **LRU**: 가장 오래 사용되지 않은 페이지 교체
- **LFU**: 가장 적게 사용된 페이지 교체
- **Clock**: 참조 비트를 이용한 순환 방식

## MMU란?
Memory Management Unit의 약자로, 가상 주소를 물리 주소로 변환하는 하드웨어 장치입니다.

## TLB란?
Translation Lookaside Buffer의 약자로, 가상 주소-물리 주소 변환 정보를 캐시하는 고속 버퍼입니다.

## 페이지 부재시 절차
1. 페이지 부재 인터럽트 발생
2. 운영체제가 페이지 부재 처리
3. 빈 프레임 찾기 (없으면 페이지 교체)
4. 디스크에서 페이지 로드
5. 페이지 테이블 업데이트
6. 프로세스 재시작

## 인터럽트란?
CPU가 현재 실행 중인 작업을 중단하고 다른 작업을 처리하도록 하는 신호입니다.

### System Call
사용자 프로그램이 운영체제의 서비스를 요청하는 인터페이스입니다.

## 프로세스 제어 명령
- **fork()**: 자식 프로세스 생성
- **exec()**: 새로운 프로그램 실행
- **wait()**: 자식 프로세스 종료 대기
- **exit()**: 프로세스 종료

## fork(), vfork() 차이
- **fork()**: 부모 프로세스를 완전히 복사하여 자식 프로세스 생성
- **vfork()**: 메모리를 공유하며 자식 프로세스가 exec() 호출까지 부모 대기

## 시스템콜과 서브루틴 차이
- **시스템콜**: 사용자 모드에서 커널 모드로 전환하여 OS 서비스 호출
- **서브루틴**: 같은 프로그램 내에서 함수 호출

## 블록킹, 논블록킹
- **블록킹**: 작업이 완료될 때까지 대기
- **논블록킹**: 작업 요청 후 즉시 반환, 완료 여부는 별도 확인

## 동기, 비동기
- **동기**: 작업 요청 후 완료까지 기다림
- **비동기**: 작업 요청 후 다른 작업 수행, 완료 시 알림 받음

## 동기 IO 처리과정: 프로세스 A가 디스크에서 어떤 데이터 읽어올때 상황
1. 프로세스 A가 read() 시스템콜 호출
2. 커널이 디스크 I/O 요청
3. 프로세스 A는 blocked 상태로 대기
4. 디스크에서 데이터 읽기 완료
5. 커널이 데이터를 프로세스 버퍼로 복사
6. 프로세스 A를 ready 상태로 변경
7. 프로세스 A가 실행 재개

## 입출력 처리방식

### DMA
Direct Memory Access의 약자로, CPU 개입 없이 메모리와 주변장치 간 직접 데이터 전송하는 방식입니다.

### Cycle Stealing
DMA가 CPU 사이클을 잠시 빌려 메모리에 접근하는 방식입니다.

## 데드락
두 개 이상의 프로세스가 서로가 점유한 자원을 기다리며 무한히 대기하는 상태입니다.

### 발생조건
1. **상호 배제**: 자원을 한 번에 하나의 프로세스만 사용
2. **점유와 대기**: 자원을 가진 상태에서 다른 자원 요청
3. **비선점**: 강제로 자원을 빼앗을 수 없음
4. **순환 대기**: 프로세스들이 순환적으로 자원 대기

### 회피기법
- **예방**: 발생 조건 중 하나 제거
- **회피**: 안전한 상태 유지 (Banker's Algorithm)
- **탐지 및 복구**: 데드락 발생 시 탐지하여 해결

### 해결경험
타임아웃 설정, 자원 순서 정하기, 데드락 탐지 알고리즘 사용 등

## PCB(Process Control Block) 이란?
운영체제가 프로세스를 관리하기 위해 필요한 정보를 저장하는 자료구조입니다. (PID, 상태, 레지스터 값, 메모리 정보 등)

## Spin Lock 이란?
락을 획득할 때까지 계속 반복문을 돌며 대기하는 동기화 기법입니다.

## 동기화 종류
- **Mutex**: 상호 배제
- **Semaphore**: 카운팅 세마포어
- **Monitor**: 고수준 동기화 구조
- **Condition Variable**: 조건 변수

## Critical Section?
여러 프로세스가 공유하는 자원에 접근하는 코드 영역으로, 한 번에 하나의 프로세스만 실행되어야 합니다.

## Mutex란?
Mutual Exclusion의 약자로, 임계영역에 하나의 스레드만 접근할 수 있도록 하는 동기화 객체입니다.

## Semaphore란?
공유 자원에 접근할 수 있는 프로세스/스레드의 수를 제한하는 동기화 기법입니다.

## Mutex, Semaphore 차이
- **Mutex**: 바이너리, 소유권 있음, 하나의 스레드만 접근
- **Semaphore**: 카운팅 가능, 소유권 없음, 여러 스레드 접근 가능

## Monitor란?
공유 자원과 이를 접근하는 프로시저를 하나의 모듈로 캡슐화한 동기화 구조입니다.

## Thread-safe 란?
멀티스레드 환경에서 여러 스레드가 동시에 접근해도 안전하게 동작하는 코드나 함수입니다.

### Reentrant란?
실행 중에 인터럽트되어 다시 호출되어도 안전하게 동작하는 함수입니다.

## 인터럽트, 폴링 개념 및 차이
- **인터럽트**: 하드웨어가 CPU에 신호를 보내 처리 요청
- **폴링**: CPU가 주기적으로 하드웨어 상태 확인
- **차이**: 인터럽트는 이벤트 기반, 폴링은 주기적 확인

## Fault Tolerance 란?
시스템에 오류가 발생해도 계속 정상적으로 동작할 수 있는 능력입니다.

### 작동절차
1. **오류 탐지**: 시스템 모니터링
2. **오류 격리**: 문제 부분 분리
3. **복구**: 백업 시스템으로 전환
4. **재구성**: 시스템 재구성하여 정상 운영 재개
